<mat-toolbar color="primary" class="app-bar mat-elevation-z2" data-cy="pxb-toolbar">
    <button data-cy="toolbar-menu" *ngIf="isSmall" style="margin-left: -8px" mat-icon-button (click)="toggleMenu()">
        <mat-icon>menu</mat-icon>
    </button>
    <div class="mat-title" [style.marginLeft.px]="isSmall ? 24 : 0">Fixed Length Passcode</div>
</mat-toolbar>
<section class="mat-typography" [class.small]="isSmall">
    <div class="mat-body-1 form-header">
        <p>Find Device</p>
    </div>

    <form [formGroup]="findDeviceForm" class="find-device">
        <mat-form-field appearance="fill">
            <mat-label>Serial Number</mat-label>
            <input
                matInput
                placeholder="Serial Number"
                required
                formControlName="serialNumber"
                type="text"
                data-cy="serial-number"
                #serialNumberInput
            />
            <mat-error *ngIf="findDeviceForm.controls.serialNumber.errors?.deviceNotFound">
                Device not found.
            </mat-error>
        </mat-form-field>
        <div class="button-container" style="text-align:right;">
            <button 
                class="search-device-btn"
                mat-flat-button 
                color="primary"
                [disabled]="!findDeviceForm.controls.serialNumber.value"
                [ngClass]="formSubmit ? 'button-block show-spinner' : 'show-text'"
                style="width: 144px;"
                (click)="findDevice()"
            >
                <span data-cy="search-button" class="text-container">
                    <mat-icon style="margin-left: -4px;">search</mat-icon>
                    Search Device
                </span>
                <div class="spinner-container">
                    <mat-spinner class="primary-spinner" diameter="20"></mat-spinner>
                </div>
            </button>
        </div>
    </form>
</section>
